[gd_scene load_steps=24 format=3 uid="uid://dn0mkea57a3cw"]

[ext_resource type="Script" path="res://Scripts/attackHandler.gd" id="1_1xxoe"]
[ext_resource type="Script" path="res://Scripts/lights.gd" id="2_f5qwo"]
[ext_resource type="Texture2D" uid="uid://dcgdftmbhk2d3" path="res://Icons/2d_lights_and_shadows_neutral_point_light.webp" id="3_n5gfx"]
[ext_resource type="Texture2D" uid="uid://c6gm2uw0xbpr4" path="res://assets/bottom_bubbles.png" id="4_gn2it"]
[ext_resource type="Texture2D" uid="uid://c4vjbsqie46d8" path="res://assets/top_bubbles.png" id="5_sjbok"]
[ext_resource type="PackedScene" uid="uid://cc0kb5tbuiykm" path="res://Scenes/player.tscn" id="6_cbvck"]
[ext_resource type="PackedScene" uid="uid://bjcgghhh053jy" path="res://Scenes/oxygenSystem.tscn" id="7_8beuo"]
[ext_resource type="PackedScene" uid="uid://beb14gfytx36" path="res://Scenes/PlayerOxyTank.tscn" id="8_thvg5"]
[ext_resource type="Script" path="res://Scripts/playerUIFollow.gd" id="9_bsjgf"]
[ext_resource type="PackedScene" uid="uid://cqdxwpt8n357u" path="res://level_making/camerasystem.tscn" id="10_6ymck"]
[ext_resource type="PackedScene" uid="uid://c7wtkgsvif50g" path="res://level_making/ladder.tscn" id="11_y1uls"]
[ext_resource type="PackedScene" uid="uid://s3pth3bvbbvt" path="res://Scenes/Sanity System.tscn" id="12_e13pe"]
[ext_resource type="PackedScene" uid="uid://gnxhj7qlcejs" path="res://Scenes/FaceDisplay.tscn" id="13_eu4yb"]
[ext_resource type="PackedScene" uid="uid://smk00qmpdu36" path="res://Scenes/Supply Grabber/supplyGrabber.tscn" id="14_61kdm"]
[ext_resource type="Script" path="res://Scripts/ComponentSpawner/componentSpawner.gd" id="15_rset8"]
[ext_resource type="PackedScene" uid="uid://dvotvnd110mnm" path="res://Scenes/BreakerBox.tscn" id="16_yne7g"]

[sub_resource type="CanvasItemMaterial" id="CanvasItemMaterial_upv4y"]
light_mode = 2

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_8026o"]
polygon = PackedVector2Array(-452.5, -33, -461.5, 19, -77.5, 21, 186.5, 38, 186.5, 168, 262.5, 156, 303.5, 22, 305.5, -32, 256.5, -56, 123.5, -70, -0.5, -36)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_8i1j1"]
polygon = PackedVector2Array(-453, -33, -463, 20, -96, 35, -48, 178, 7, 181, 31, 38, 203, 34, 208, -47)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_j2785"]
polygon = PackedVector2Array(-626.5, -58, 1150.5, -42, 1144.5, 252, 1068.5, 269, 1060.5, 25, 578.5, 28, 573.5, 122, 516.5, 128, 505.5, 20, -475.5, 14, -428.5, 615, 486.5, 602, 476.5, 783, 461.5, 859, 962.5, 852, 952.5, 668, 591.5, 667, 584.5, 605, 955.5, 602, 1536.5, 619, 1556.5, 334, 1062.5, 345, 1062.5, 275, 1531.5, 271, 1623.5, 264, 1610.5, 664, 1048.5, 849, 1058.5, 927, 373.5, 935, 320.5, 713, -559.5, 705, -610.5, 607)

[sub_resource type="Curve2D" id="Curve2D_46uno"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 40, -68, 0, 0, 0, 0, 45, 421)
}
point_count = 2

[sub_resource type="RectangleShape2D" id="RectangleShape2D_77ceo"]
size = Vector2(111, 184)

[sub_resource type="Curve2D" id="Curve2D_2h8we"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 39, -94, 0, 0, 0, 0, 30, 235)
}
point_count = 2

[node name="MainScene" type="Node2D"]
script = ExtResource("1_1xxoe")

[node name="LightParent" type="Node2D" parent="."]
script = ExtResource("2_f5qwo")

[node name="light" type="PointLight2D" parent="LightParent"]
material = SubResource("CanvasItemMaterial_upv4y")
position = Vector2(966, 404)
scale = Vector2(0.675705, 0.675705)
color = Color(1, 0.85098, 0.129412, 0.294118)
energy = 6.0
shadow_enabled = true
texture = ExtResource("3_n5gfx")
texture_scale = 2.8
height = 10.0

[node name="light2" type="PointLight2D" parent="LightParent"]
material = SubResource("CanvasItemMaterial_upv4y")
position = Vector2(1464, 412)
scale = Vector2(0.675705, 0.675705)
color = Color(1, 0.85098, 0.129412, 0.294118)
energy = 6.0
shadow_enabled = true
texture = ExtResource("3_n5gfx")
texture_scale = 2.35
height = 10.0

[node name="light3" type="PointLight2D" parent="LightParent"]
material = SubResource("CanvasItemMaterial_upv4y")
position = Vector2(403, 399)
scale = Vector2(0.675705, 0.675705)
color = Color(1, 0.85098, 0.129412, 0.294118)
energy = 6.0
shadow_enabled = true
texture = ExtResource("3_n5gfx")
texture_scale = 2.35
height = 10.0

[node name="light4" type="PointLight2D" parent="LightParent"]
material = SubResource("CanvasItemMaterial_upv4y")
position = Vector2(398, 649)
scale = Vector2(0.675705, 0.675705)
color = Color(1, 0.85098, 0.129412, 0.294118)
energy = 6.0
shadow_enabled = true
texture = ExtResource("3_n5gfx")
texture_scale = 2.35
height = 10.0

[node name="light5" type="PointLight2D" parent="LightParent"]
material = SubResource("CanvasItemMaterial_upv4y")
position = Vector2(1930, 727)
scale = Vector2(0.675705, 0.675705)
color = Color(1, 0.85098, 0.129412, 0.294118)
energy = 6.0
shadow_enabled = true
texture = ExtResource("3_n5gfx")
texture_scale = 2.35
height = 10.0

[node name="light6" type="PointLight2D" parent="LightParent"]
material = SubResource("CanvasItemMaterial_upv4y")
position = Vector2(1356, 1052)
scale = Vector2(0.675705, 0.675705)
color = Color(1, 0.85098, 0.129412, 0.294118)
energy = 6.0
shadow_enabled = true
texture = ExtResource("3_n5gfx")
texture_scale = 2.35
height = 10.0

[node name="light7" type="PointLight2D" parent="LightParent"]
material = SubResource("CanvasItemMaterial_upv4y")
position = Vector2(1207, 672)
scale = Vector2(0.675705, 0.675705)
color = Color(1, 0.85098, 0.129412, 0.294118)
energy = 6.0
shadow_enabled = true
texture = ExtResource("3_n5gfx")
texture_scale = 2.35
height = 10.0

[node name="Parallax Background" type="Node2D" parent="."]

[node name="Exterior Background" type="Polygon2D" parent="Parallax Background"]
z_index = -1
color = Color(0, 0, 0, 1)
polygon = PackedVector2Array(-744, -224, 2656, -208, 2656, 1712, -728, 1768)

[node name="ParallaxBack" type="Parallax2D" parent="Parallax Background"]
z_index = -1
scroll_scale = Vector2(0.4, 0.4)
repeat_size = Vector2(160, 90)
autoscroll = Vector2(0, 8)
repeat_times = 6

[node name="Sprite2D" type="Sprite2D" parent="Parallax Background/ParallaxBack"]
modulate = Color(1, 1, 1, 0.478431)
light_mask = 2
visibility_layer = 2
position = Vector2(240, 120)
scale = Vector2(0.25, 0.25)
texture = ExtResource("4_gn2it")
centered = false

[node name="ParallaxFront" type="Parallax2D" parent="Parallax Background"]
z_index = -1
scroll_scale = Vector2(0.7, 0.7)
repeat_size = Vector2(160, 90)
autoscroll = Vector2(0, 15)
repeat_times = 6

[node name="Sprite2D" type="Sprite2D" parent="Parallax Background/ParallaxFront"]
light_mask = 2
visibility_layer = 2
position = Vector2(240, 120)
scale = Vector2(0.25, 0.25)
texture = ExtResource("5_sjbok")
centered = false

[node name="Interior Background" type="Polygon2D" parent="Parallax Background"]
z_index = -1
color = Color(0.144063, 0.144063, 0.144063, 1)
polygon = PackedVector2Array(0, 328, 1768, 344, 1776, 656, 2248, 648, 2232, 1040, 1664, 1232, 1680, 1312, 992, 1320, 944, 1088, 64, 1088, 8, 992)

[node name="Floor" type="StaticBody2D" parent="."]
position = Vector2(626, 599)

[node name="CollisionShape2D" type="CollisionPolygon2D" parent="Floor"]
position = Vector2(-8.5, 27)
polygon = PackedVector2Array(305.5, -32, 303.5, 22, 262.5, 156, 186.5, 168, 186.5, 38, -77.7452, 21.0046, -462.5, 20, -452.5, -33, 0.5, -36, 123.5, -70, 256.5, -56)

[node name="LightOccluder2D" type="LightOccluder2D" parent="Floor/CollisionShape2D"]
occluder = SubResource("OccluderPolygon2D_8026o")
occluder_light_mask = 3

[node name="CollisionShape2D4" type="CollisionPolygon2D" parent="Floor"]
position = Vector2(851, 34)
polygon = PackedVector2Array(208, -47, 203, 34, 31, 38, 7, 181, -48, 178, -96, 35, -462.5, 20, -452.5, -33)

[node name="LightOccluder2D" type="LightOccluder2D" parent="Floor/CollisionShape2D4"]
occluder = SubResource("OccluderPolygon2D_8i1j1")
occluder_light_mask = 3

[node name="Hull" type="StaticBody2D" parent="."]
position = Vector2(630, 354)

[node name="CollisionShape2D" type="CollisionPolygon2D" parent="Hull"]
position = Vector2(-8.5, 27)
polygon = PackedVector2Array(-122.5, -46, 1150.5, -42, 1144.5, 252, 1068.5, 269, 1060.5, 25, 578.5, 28, 573.5, 122, 516.5, 128, 505.5, 20, -475.5, 14, -428.5, 615, 486.5, 602, 476.5, 781, 461.5, 859, 962.5, 852, 952.5, 668, 591.5, 667, 584.5, 605, 955.5, 602, 1093.5, 605, 1536.5, 619, 1541.5, 565, 1563.5, 558, 1580.5, 520, 1648.5, 437, 1622.5, 422, 1543.5, 521, 1556.5, 334, 1062.5, 345, 1062.5, 275, 1531.5, 271, 1623.5, 264, 1652.5, 397, 1700.5, 438, 1684.5, 567, 1621.5, 574, 1610.5, 664, 1048.5, 849, 1058.5, 927, 373.5, 935, 320.5, 713, -559.5, 705, -610.5, 607, -626.5, -58)

[node name="LightOccluder2D" type="LightOccluder2D" parent="Hull/CollisionShape2D"]
occluder = SubResource("OccluderPolygon2D_j2785")
occluder_light_mask = 3

[node name="Player" parent="." instance=ExtResource("6_cbvck")]
position = Vector2(1450, 1199)
angular_damp = 66.313

[node name="OxygenSystem" parent="." instance=ExtResource("7_8beuo")]
position = Vector2(144, 899)

[node name="PlayerOxyTank" parent="." instance=ExtResource("8_thvg5")]
z_index = 1
offset_right = 11.0
offset_bottom = 27.0
script = ExtResource("9_bsjgf")

[node name="CAMERASYSTEM" parent="." instance=ExtResource("10_6ymck")]
metadata/_edit_lock_ = true

[node name="Ladder" parent="." instance=ExtResource("11_y1uls")]
position = Vector2(922, 608)

[node name="Path2D" parent="Ladder" index="3"]
curve = SubResource("Curve2D_46uno")

[node name="PathFollow2D" parent="Ladder/Path2D" index="0"]
position = Vector2(40, -68)
rotation = 1.56057

[node name="Ladder2" parent="." instance=ExtResource("11_y1uls")]
position = Vector2(1124, 995)

[node name="CollisionShape2D" parent="Ladder2/TopOfLadder" index="0"]
position = Vector2(36, 75)
shape = SubResource("RectangleShape2D_77ceo")

[node name="BottomOfLadder" parent="Ladder2" index="1"]
position = Vector2(-26, 206)

[node name="Path2D" parent="Ladder2" index="3"]
curve = SubResource("Curve2D_2h8we")

[node name="PathFollow2D" parent="Ladder2/Path2D" index="0"]
rotation = 1.59815

[node name="SanitySystem" parent="." instance=ExtResource("12_e13pe")]
position = Vector2(405, 525)
metadata/_edit_lock_ = true

[node name="ColorRect" type="ColorRect" parent="."]
visibility_layer = 0
z_index = -1
offset_top = 319.0
offset_right = 2265.0
offset_bottom = 1373.0
mouse_filter = 1
color = Color(0.103744, 0.103744, 0.103744, 1)
metadata/_edit_lock_ = true

[node name="FaceDisplay" parent="." instance=ExtResource("13_eu4yb")]

[node name="SupplyGrabber" parent="." instance=ExtResource("14_61kdm")]
position = Vector2(1928, 856)

[node name="DebrisContainer" type="Node2D" parent="SupplyGrabber"]

[node name="ComponentSpawner" type="Node2D" parent="."]
position = Vector2(225, 510)
script = ExtResource("15_rset8")

[node name="BreakerBox" parent="." instance=ExtResource("16_yne7g")]
position = Vector2(1649, 493)

[connection signal="oxygen_multiplier_changed" from="SanitySystem" to="OxygenSystem" method="_on_sanity_system_oxygen_multiplier_changed"]
[connection signal="child_entered_tree" from="SupplyGrabber/DebrisContainer" to="ComponentSpawner" method="_on_debris_container_child_entered_tree"]
[connection signal="child_exiting_tree" from="SupplyGrabber/DebrisContainer" to="ComponentSpawner" method="_on_debris_container_child_exiting_tree"]

[editable path="Ladder"]
[editable path="Ladder2"]
