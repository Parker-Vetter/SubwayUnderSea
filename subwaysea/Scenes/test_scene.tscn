[gd_scene load_steps=29 format=3 uid="uid://dn0mkea57a3cw"]

[ext_resource type="PackedScene" uid="uid://cc0kb5tbuiykm" path="res://Scenes/player.tscn" id="1_eeyxp"]
[ext_resource type="Texture2D" uid="uid://c6gm2uw0xbpr4" path="res://assets/bottom_bubbles.png" id="1_qtfo6"]
[ext_resource type="Texture2D" uid="uid://dcgdftmbhk2d3" path="res://Icons/2d_lights_and_shadows_neutral_point_light.webp" id="1_wmx6u"]
[ext_resource type="Texture2D" uid="uid://c4vjbsqie46d8" path="res://assets/top_bubbles.png" id="2_jox0j"]
[ext_resource type="PackedScene" uid="uid://bjcgghhh053jy" path="res://Scenes/oxygenSystem.tscn" id="2_lhl1p"]
[ext_resource type="Script" path="res://Scripts/flicker_light.gd" id="2_xkchl"]
[ext_resource type="PackedScene" uid="uid://beb14gfytx36" path="res://Scenes/PlayerOxyTank.tscn" id="3_xpj87"]
[ext_resource type="Script" path="res://Scripts/playerUIFollow.gd" id="4_v31gu"]
[ext_resource type="PackedScene" uid="uid://cqdxwpt8n357u" path="res://level_making/camerasystem.tscn" id="5_5gy3l"]
[ext_resource type="Texture2D" uid="uid://dtsfba21rwvx" path="res://assets/Backgrounds/background.png" id="5_q5aab"]
[ext_resource type="PackedScene" uid="uid://c7wtkgsvif50g" path="res://level_making/ladder.tscn" id="6_pxrql"]
[ext_resource type="Texture2D" uid="uid://cxjp2dd814lug" path="res://assets/Backgrounds/pipes_background.png" id="6_s8pm1"]
[ext_resource type="PackedScene" uid="uid://s3pth3bvbbvt" path="res://Scenes/Sanity System.tscn" id="7_1hrf3"]
[ext_resource type="Texture2D" uid="uid://0yxhwoclfsd8" path="res://assets/Backgrounds/hanging_cables_background.png" id="7_5i4w0"]
[ext_resource type="Texture2D" uid="uid://c7fh2ch28etqe" path="res://assets/Backgrounds/hanging_cables_foreground.png" id="8_x8q07"]
[ext_resource type="Texture2D" uid="uid://b1ld0rjn6hd8u" path="res://assets/Backgrounds/foreground_pipes.png" id="9_frhj4"]
[ext_resource type="PackedScene" uid="uid://smk00qmpdu36" path="res://Scenes/Supply Grabber/supplyGrabber.tscn" id="10_bb45b"]
[ext_resource type="Script" path="res://Scripts/tobedeleted.gd" id="11_8qv8o"]
[ext_resource type="PackedScene" uid="uid://gnxhj7qlcejs" path="res://Scenes/FaceDisplay.tscn" id="11_epfey"]
[ext_resource type="PackedScene" uid="uid://f34j633okqsc" path="res://Scenes/component.tscn" id="15_mvw0f"]

[sub_resource type="CanvasItemMaterial" id="CanvasItemMaterial_upv4y"]
light_mode = 2

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_8026o"]
polygon = PackedVector2Array(-473.5, -18, -473.5, 118, 294.5, 118, 294.5, -18)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_8i1j1"]
polygon = PackedVector2Array(-453, -25, -453, 111, -77, 111, -53, 207, 3, 207, 27, 111, 211, 111, 211, -25)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_j2785"]
polygon = PackedVector2Array(-621.5, -53, 1146.5, -53, 1146.5, 147, 1066.5, 123, 1066.5, 3, 578.5, 3, 570.5, 115, 514.5, 115, 506.5, 3, -477.5, 3, -477.5, 611, 482.5, 611, 482.5, 1011, 954.5, 1011, 954.5, 835, 594.5, 835, 594.5, 611, 1538.5, 611, 1538.5, 363, 1066.5, 363, 1066.5, 123, 1626.5, 275, 1626.5, 659, 1058.5, 851, 1058.5, 1059, 394.5, 1059, 250.5, 891, -509.5, 891, -621.5, 707)

[sub_resource type="Curve2D" id="Curve2D_46uno"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 40, -68, 0, 0, 0, 0, 38, 16, 0, 0, 0, 0, 38, 176, 0, 0, 0, 0, 38, 376)
}
point_count = 4

[sub_resource type="RectangleShape2D" id="RectangleShape2D_77ceo"]
size = Vector2(111, 334)

[sub_resource type="Curve2D" id="Curve2D_2h8we"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 39, -94, 0, 0, 0, 0, 36, 373)
}
point_count = 2

[sub_resource type="RectangleShape2D" id="RectangleShape2D_dbr52"]
size = Vector2(41, 37)

[node name="TestScene" type="Node2D"]

[node name="LightParent" type="Node2D" parent="."]

[node name="light" type="PointLight2D" parent="LightParent"]
material = SubResource("CanvasItemMaterial_upv4y")
position = Vector2(966, 404)
scale = Vector2(0.675705, 0.675705)
color = Color(1, 0.85098, 0.129412, 0.294118)
energy = 6.0
shadow_enabled = true
texture = ExtResource("1_wmx6u")
texture_scale = 2.8
height = 10.0
script = ExtResource("2_xkchl")

[node name="light2" type="PointLight2D" parent="LightParent"]
material = SubResource("CanvasItemMaterial_upv4y")
position = Vector2(1464, 412)
scale = Vector2(0.675705, 0.675705)
color = Color(1, 0.85098, 0.129412, 0.294118)
energy = 6.0
shadow_enabled = true
texture = ExtResource("1_wmx6u")
texture_scale = 2.35
height = 10.0
script = ExtResource("2_xkchl")

[node name="light3" type="PointLight2D" parent="LightParent"]
material = SubResource("CanvasItemMaterial_upv4y")
position = Vector2(403, 399)
scale = Vector2(0.675705, 0.675705)
color = Color(1, 0.85098, 0.129412, 0.294118)
energy = 6.0
shadow_enabled = true
texture = ExtResource("1_wmx6u")
texture_scale = 2.35
height = 10.0
script = ExtResource("2_xkchl")

[node name="light4" type="PointLight2D" parent="LightParent"]
material = SubResource("CanvasItemMaterial_upv4y")
position = Vector2(398, 649)
scale = Vector2(0.675705, 0.675705)
color = Color(1, 0.85098, 0.129412, 0.294118)
energy = 6.0
shadow_enabled = true
texture = ExtResource("1_wmx6u")
texture_scale = 2.35
height = 10.0
script = ExtResource("2_xkchl")

[node name="light5" type="PointLight2D" parent="LightParent"]
material = SubResource("CanvasItemMaterial_upv4y")
position = Vector2(1930, 727)
scale = Vector2(0.675705, 0.675705)
color = Color(1, 0.85098, 0.129412, 0.294118)
energy = 6.0
shadow_enabled = true
texture = ExtResource("1_wmx6u")
texture_scale = 2.35
height = 10.0
script = ExtResource("2_xkchl")

[node name="light6" type="PointLight2D" parent="LightParent"]
material = SubResource("CanvasItemMaterial_upv4y")
position = Vector2(1356, 1052)
scale = Vector2(0.675705, 0.675705)
color = Color(1, 0.85098, 0.129412, 0.294118)
energy = 6.0
shadow_enabled = true
texture = ExtResource("1_wmx6u")
texture_scale = 2.35
height = 10.0
script = ExtResource("2_xkchl")

[node name="light7" type="PointLight2D" parent="LightParent"]
material = SubResource("CanvasItemMaterial_upv4y")
position = Vector2(1207, 672)
scale = Vector2(0.675705, 0.675705)
color = Color(1, 0.85098, 0.129412, 0.294118)
energy = 6.0
shadow_enabled = true
texture = ExtResource("1_wmx6u")
texture_scale = 2.35
height = 10.0
script = ExtResource("2_xkchl")

[node name="Parallax Exterior" type="Node2D" parent="."]

[node name="Exterior Background" type="Polygon2D" parent="Parallax Exterior"]
z_index = -2
color = Color(0, 0, 0, 1)
polygon = PackedVector2Array(-744, -224, 2656, -208, 2656, 1712, -728, 1768)

[node name="Background2" type="Parallax2D" parent="Parallax Exterior/Exterior Background"]
scroll_scale = Vector2(0.4, 0.4)
repeat_size = Vector2(160, 90)
autoscroll = Vector2(0, 8)
repeat_times = 6

[node name="Sprite2D" type="Sprite2D" parent="Parallax Exterior/Exterior Background/Background2"]
modulate = Color(1, 1, 1, 0.478431)
light_mask = 2
visibility_layer = 2
position = Vector2(240, 120)
scale = Vector2(0.25, 0.25)
texture = ExtResource("1_qtfo6")
centered = false

[node name="Foreground" type="Parallax2D" parent="Parallax Exterior/Exterior Background"]
scroll_scale = Vector2(0.7, 0.7)
repeat_size = Vector2(160, 90)
autoscroll = Vector2(0, 15)
repeat_times = 6

[node name="Sprite2D" type="Sprite2D" parent="Parallax Exterior/Exterior Background/Foreground"]
light_mask = 2
visibility_layer = 2
position = Vector2(240, 120)
scale = Vector2(0.25, 0.25)
texture = ExtResource("2_jox0j")
centered = false

[node name="Parallax Interior" type="Node2D" parent="."]

[node name="Lowest Z Index" type="Polygon2D" parent="Parallax Interior"]
clip_children = 1
z_index = -2
color = Color(0.144063, 0.144063, 0.144063, 1)
polygon = PackedVector2Array(1768, 328, 1768, 528, 2248, 656, 2248, 1040, 1680, 1232, 1680, 1440, 1016, 1440, 872, 1272, 112, 1272, 0, 1088, 0, 328)

[node name="Background" type="Parallax2D" parent="Parallax Interior/Lowest Z Index"]
scroll_scale = Vector2(0.86, 1)
repeat_size = Vector2(1280, 360)
repeat_times = 2

[node name="Sprite2D" type="Sprite2D" parent="Parallax Interior/Lowest Z Index/Background"]
texture_filter = 1
scale = Vector2(2, 2)
texture = ExtResource("5_q5aab")
centered = false

[node name="Background Pipes" type="Parallax2D" parent="Parallax Interior/Lowest Z Index"]
scroll_scale = Vector2(0.88, 1)
repeat_size = Vector2(1280, 360)
repeat_times = 2

[node name="Sprite2D" type="Sprite2D" parent="Parallax Interior/Lowest Z Index/Background Pipes"]
texture_filter = 1
scale = Vector2(2, 2)
texture = ExtResource("6_s8pm1")
centered = false

[node name="Background Cables" type="Parallax2D" parent="Parallax Interior/Lowest Z Index"]
scroll_scale = Vector2(0.92, 1)
repeat_size = Vector2(1280, 360)
repeat_times = 2

[node name="Sprite2D" type="Sprite2D" parent="Parallax Interior/Lowest Z Index/Background Cables"]
texture_filter = 1
scale = Vector2(2, 2)
texture = ExtResource("7_5i4w0")
centered = false

[node name="Middle Z Index" type="Polygon2D" parent="Parallax Interior"]
clip_children = 1
polygon = PackedVector2Array(1768, 328, 1768, 528, 2248, 656, 2248, 1040, 1680, 1232, 1680, 1440, 1016, 1440, 872, 1272, 112, 1272, 0, 1088, 0, 328)

[node name="Midground Cables" type="Parallax2D" parent="Parallax Interior/Middle Z Index"]
scroll_scale = Vector2(0.96, 1)
repeat_size = Vector2(1280, 360)

[node name="Sprite2D" type="Sprite2D" parent="Parallax Interior/Middle Z Index/Midground Cables"]
texture_filter = 1
scale = Vector2(2, 2)
texture = ExtResource("8_x8q07")
centered = false

[node name="Highest Z Index" type="Polygon2D" parent="Parallax Interior"]
clip_children = 1
light_mask = 0
z_index = 1
polygon = PackedVector2Array(1768, 328, 1768, 528, 2248, 656, 2248, 1040, 2008, 1120, 24, 1120, 0, 1088, 0, 328)

[node name="Foreground Pipes" type="Parallax2D" parent="Parallax Interior/Highest Z Index"]
light_mask = 0
scroll_scale = Vector2(1.1, 1)
repeat_size = Vector2(1280, 360)

[node name="Sprite2D" type="Sprite2D" parent="Parallax Interior/Highest Z Index/Foreground Pipes"]
light_mask = 0
texture_filter = 1
scale = Vector2(2, 2)
texture = ExtResource("9_frhj4")
centered = false

[node name="Floor" type="StaticBody2D" parent="."]
position = Vector2(626, 599)

[node name="CollisionShape2D" type="CollisionPolygon2D" parent="Floor"]
position = Vector2(-8.5, 27)
polygon = PackedVector2Array(-473.5, -18, -473.5, 118, 294.5, 118, 294.5, -18)

[node name="LightOccluder2D" type="LightOccluder2D" parent="Floor/CollisionShape2D"]
occluder = SubResource("OccluderPolygon2D_8026o")
occluder_light_mask = 3

[node name="Polygon2D" type="Polygon2D" parent="Floor/CollisionShape2D"]
light_mask = 0
color = Color(0.0901961, 0.0313726, 0.0117647, 1)
polygon = PackedVector2Array(-473.5, -18, -473.5, 118, 294.5, 118, 294.5, -18)

[node name="CollisionShape2D4" type="CollisionPolygon2D" parent="Floor"]
position = Vector2(851, 34)
polygon = PackedVector2Array(-453, -25, -453, 111, -77, 111, -53, 207, 3, 207, 27, 111, 211, 111, 211, -25)

[node name="LightOccluder2D" type="LightOccluder2D" parent="Floor/CollisionShape2D4"]
occluder = SubResource("OccluderPolygon2D_8i1j1")
occluder_light_mask = 3

[node name="Polygon2D" type="Polygon2D" parent="Floor/CollisionShape2D4"]
light_mask = 0
color = Color(0.0901961, 0.0313726, 0.0117647, 1)
polygon = PackedVector2Array(-453, -25, -453, 111, -77, 111, -53, 207, 3, 207, 27, 111, 211, 111, 211, -25)

[node name="Hull" type="StaticBody2D" parent="."]
position = Vector2(630, 354)

[node name="CollisionShape2D" type="CollisionPolygon2D" parent="Hull"]
position = Vector2(-8.5, 27)
polygon = PackedVector2Array(-621.5, -53, 1146.5, -53, 1146.5, 147, 1066.5, 123, 1066.5, 3, 578.5, 3, 570.5, 115, 514.5, 115, 506.5, 3, -477.5, 3, -477.5, 611, 482.5, 611, 482.5, 1011, 954.5, 1011, 954.5, 835, 594.5, 835, 594.5, 611, 1538.5, 611, 1538.5, 363, 1066.5, 363, 1066.5, 123, 1626.5, 275, 1626.5, 659, 1058.5, 851, 1058.5, 1059, 394.5, 1059, 250.5, 891, -509.5, 891, -621.5, 707)

[node name="LightOccluder2D" type="LightOccluder2D" parent="Hull/CollisionShape2D"]
occluder = SubResource("OccluderPolygon2D_j2785")
occluder_light_mask = 3

[node name="Polygon2D" type="Polygon2D" parent="Hull/CollisionShape2D"]
light_mask = 0
color = Color(0.0901961, 0.0313726, 0.0117647, 1)
polygon = PackedVector2Array(-621.5, -53, 1146.5, -53, 1146.5, 147, 1066.5, 123, 1066.5, 3, 578.5, 3, 570.5, 115, 514.5, 115, 506.5, 3, -477.5, 3, -477.5, 611, 482.5, 611, 482.5, 1011, 954.5, 1011, 954.5, 835, 594.5, 835, 594.5, 611, 1538.5, 611, 1538.5, 363, 1066.5, 363, 1066.5, 123, 1626.5, 275, 1626.5, 659, 1058.5, 851, 1058.5, 1059, 394.5, 1059, 250.5, 891, -509.5, 891, -621.5, 707)

[node name="Player" parent="." instance=ExtResource("1_eeyxp")]
position = Vector2(534, 527)
angular_damp = 66.313

[node name="OxygenSystem" parent="." instance=ExtResource("2_lhl1p")]
position = Vector2(176, 497)

[node name="PlayerOxyTank" parent="." instance=ExtResource("3_xpj87")]
z_index = 1
offset_right = 11.0
offset_bottom = 27.0
script = ExtResource("4_v31gu")

[node name="CAMERASYSTEM" parent="." instance=ExtResource("5_5gy3l")]
metadata/_edit_lock_ = true

[node name="Ladder" parent="." instance=ExtResource("6_pxrql")]
position = Vector2(922, 608)

[node name="CollisionShape2D" parent="Ladder/TopOfLadder" index="0"]
position = Vector2(46, 143.5)

[node name="CollisionShape2D" parent="Ladder/BottomOfLadder" index="0"]
position = Vector2(66, 1)

[node name="Path2D" parent="Ladder" index="3"]
position = Vector2(6, 8)
curve = SubResource("Curve2D_46uno")

[node name="PathFollow2D" parent="Ladder/Path2D" index="0"]
position = Vector2(40, -68)
rotation = 1.5946

[node name="CollisionShape2D" parent="Ladder/Floor" index="0"]
position = Vector2(47, 7)

[node name="Ladder2" parent="." instance=ExtResource("6_pxrql")]
position = Vector2(1124, 995)

[node name="CollisionShape2D" parent="Ladder2/TopOfLadder" index="0"]
position = Vector2(36, 150)
shape = SubResource("RectangleShape2D_77ceo")

[node name="BottomOfLadder" parent="Ladder2" index="1"]
position = Vector2(-26, 206)

[node name="CollisionShape2D" parent="Ladder2/BottomOfLadder" index="0"]
position = Vector2(62, 151)

[node name="Path2D" parent="Ladder2" index="3"]
curve = SubResource("Curve2D_2h8we")

[node name="PathFollow2D" parent="Ladder2/Path2D" index="0"]
rotation = 1.57722

[node name="CollisionShape2D" parent="Ladder2/Floor" index="0"]
position = Vector2(37, 4)

[node name="SanitySystem" parent="." instance=ExtResource("7_1hrf3")]
position = Vector2(405, 525)
metadata/_edit_lock_ = true

[node name="ColorRect" type="ColorRect" parent="."]
visibility_layer = 0
z_index = -1
offset_top = 319.0
offset_right = 2265.0
offset_bottom = 1373.0
mouse_filter = 1
color = Color(0.103744, 0.103744, 0.103744, 1)
metadata/_edit_lock_ = true

[node name="FaceDisplay" parent="." instance=ExtResource("11_epfey")]

[node name="SupplyGrabber" parent="." instance=ExtResource("10_bb45b")]
z_index = -1
position = Vector2(1927, 877)

[node name="imgoingtoshityourself" type="Area2D" parent="."]
position = Vector2(1229, 434)
collision_layer = 16
script = ExtResource("11_8qv8o")

[node name="TESTINGDELETETHIS" type="CollisionShape2D" parent="imgoingtoshityourself"]
shape = SubResource("RectangleShape2D_dbr52")

[node name="DELETEME" type="ColorRect" parent="imgoingtoshityourself"]
offset_left = -17.0
offset_top = -17.0
offset_right = 17.0
offset_bottom = 17.0
color = Color(0, 0, 1, 1)

[node name="Component" parent="." instance=ExtResource("15_mvw0f")]
position = Vector2(1073, 525)

[node name="Component2" parent="." instance=ExtResource("15_mvw0f")]
position = Vector2(1152, 568)

[connection signal="oxygen_multiplier_changed" from="SanitySystem" to="OxygenSystem" method="_on_sanity_system_oxygen_multiplier_changed"]

[editable path="Ladder"]
[editable path="Ladder2"]
